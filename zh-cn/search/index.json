[{"content":"如何在VyOS上启用api服务 最近，我写了些shell脚本来自动探测网络状态，并通过脚本来更改vyos的设置，但是如果意外断电或者强制重启会导致VyOS的配置文件丢失，非常的麻烦和不稳定。 如何解决这个问题呢？为什么不实施VyOS的API呢？\n在VyOS本机上启用api服务 socket模式启用api服务 1 set service https api socket curl测试 1 curl --unix-socket /run/api.sock -X POST -Fkey=qwerty -Fdata=\u0026#39;{\u0026#34;op\u0026#34;: \u0026#34;showConfig\u0026#34;, \u0026#34;path\u0026#34;: []}\u0026#39; http://localhost/retrieve 使用let‘s encryption的ssl启动VyOS API 服务 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 #!/bin/vbash source /opt/vyatta/etc/functions/script-template configure # 定义变量 ID=\u0026#34;my_id\u0026#34; APIKEY=\u0026#34;12345\u0026#34; APIPORT=\u0026#34;1234\u0026#34; VHOST=\u0026#34;myvps\u0026#34; FULL_FQDN=\u0026#34;xxx.xxx.xxx\u0026#34; LISTEN_ADDRESS=\u0026#34;xxx.xxx.xxx.xxx\u0026#34; EMAIL=\u0026#34;my@emal.com\u0026#34; set service https api key id $ID key $APIKEY set service https certificates certbot domain-name $FULL_FQDN set service https certificates certbot email $EMAIL set service https api strict set service https virtual-host $VHOST listen-address $LISTEN_ADDRESS set service https virtual-host $VHOST listen-port $APIPORT set service https virtual-host $VHOST server-name $FULL_FQDN commit save exit ","date":"2022-04-26T00:17:15+08:00","image":"https://picsum.photos/800/600.webp?random={{ substr (md5 (.Date)) 4 8 }}","permalink":"https://echowings.github.io/zh-cn/p/%E5%A6%82%E4%BD%95%E5%9C%A8vyos%E4%B8%8A%E5%90%AF%E7%94%A8api%E6%9C%8D%E5%8A%A1/","title":"如何在vyos上启用api服务"},{"content":"奥林岛财务软件在win7/win8/win10安装 安装32bit的Office Office 2007. office 2013、office 2016,office2 019的32bit版本皆可！不可装64bit版本office.\n下载注册Vsflex6.ocx 下载vsflex6.ocx 下载链接(下载任意一个即可) (1). Vsflex6.zip\n(2). Vsflex6.zip\n解压出来的文件Vsflex6.ocx，复制粘贴到c:/windows/system32/目录。\n管理员权限打开CMD.在如下图所示图标右键。在“CommandPrompt“点击右键。然后在弹出的菜单 ”Run as Administror”，单击打开。 如下图 复制粘贴并在打开管理员权限cmd里运行这个命令即可完成Vsflex6.ocx的注册.\n1 regsvr32 c:\\windows\\system32\\Vsflex6.ocx \u0026ndash;THE END\u0026ndash;\n","date":"2021-02-05T11:27:59+08:00","image":"https://echowings.github.io/zh-cn/p/post/2016-09-14_101553_hu7810971e8a628346888e63335bad77f5_88259_120x120_fill_q75_box_smart1.jpg","permalink":"https://echowings.github.io/zh-cn/p/post/","title":"奥林岛财务软件在win7/win8/win10安装"}]