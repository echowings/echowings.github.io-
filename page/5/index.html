<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.97.3"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>echowings</title><meta name=Description content="echowings"><meta property="og:title" content="echowings"><meta property="og:description" content="echowings"><meta property="og:type" content="website"><meta property="og:url" content="https://echowings.github.io/"><meta property="og:image" content="https://echowings.github.io/logo.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://echowings.github.io/logo.png"><meta name=twitter:title content="echowings"><meta name=twitter:description content="echowings"><meta name=application-name content="echowings"><meta name=apple-mobile-web-app-title content="echowings"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=https://echowings.github.io/><link rel=alternate href=/index.xml type=application/rss+xml title=echowings><link rel=feed href=/index.xml type=application/rss+xml title=echowings><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/echowings.github.io\/","inLanguage":"en","author":{"@type":"Person","name":"echowings"},"description":"echowings","image":"https:\/\/echowings.github.io\/images\/Apple-Devices-Preview.png","thumbnailUrl":"https:\/\/echowings.github.io\/images\/screenshot.png","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","name":"echowings"}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=echowings>echowings</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/categories/documentation/>Docs </a><a class=menu-item href=/about/>About </a><a class=menu-item href=https://github.com/echowings title=GitHub rel="noopener noreffer" target=_blank><i class="fab fa-github fa-fw"></i> </a><a class=menu-item href=/search/><i class="fas fa-fw fa-search"></i> Search </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item language" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
<select class=language-select id=language-select-desktop onchange="location=this.value"><option value=/ selected>English</option><option value=/zh-cn/>简体中文</option><option value=/ja-jp/>日本語</option></select>
</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=echowings>echowings</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/categories/documentation/ title>Docs</a><a class=menu-item href=/about/ title>About</a><a class=menu-item href=https://github.com/echowings title=GitHub rel="noopener noreffer" target=_blank><i class="fab fa-github fa-fw"></i></a><a class=menu-item href=/search/ title><i class="fas fa-fw fa-search"></i>Search</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a><a href=javascript:void(0); class=menu-item title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
<select class=language-select onchange="location=this.value"><option value=/ selected>English</option><option value=/zh-cn/>简体中文</option><option value=/ja-jp/>日本語</option></select></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class="page home" posts><div class=home-profile><h2 class=home-subtitle><div id=id-1 class=typeit></div></h2><div class=links><a href=https://github.com/xxxx title=GitHub target=_blank rel="noopener noreffer me"><i class="fab fa-github-alt fa-fw"></i></a><a href=https://twitter.com/xxxx title=Twitter target=_blank rel="noopener noreffer me"><i class="fab fa-twitter fa-fw"></i></a><a href=https://www.instagram.com/xxxx title=Instagram target=_blank rel="noopener noreffer me"><i class="fab fa-instagram fa-fw"></i></a><a href=https://facebook.com/xxxx title=facebook target=_blank rel="noopener noreffer me"><i class="fab fa-facebook fa-fw"></i></a><a href=https://t.me/xxxx title=Telegram target=_blank rel="noopener noreffer me"><i class="fab fa-telegram-plane fa-fw"></i></a><a href=https://www.youtube.com/user/xxxx title=YouTube target=_blank rel="noopener noreffer me"><i class="fab fa-youtube fa-fw"></i></a><a href=https://mastodon.technology/@xxxx title=Mastodon target=_blank rel="noopener noreffer me"><i class="fab fa-mastodon fa-fw"></i></a><a href=mailto:xxxx@xxxx.com title=Email rel=me><i class="far fa-envelope fa-fw"></i></a><a href=/index.xml title=RSS target=_blank rel="noopener noreffer me"><i class="fas fa-rss fa-fw"></i></a></div></div><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/how-to-create-debian10-with-cloudinit-for-pve/>How to Create Debian10 With Cloudinit for Pve</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>echowings</a></span>&nbsp;<span class=post-publish>published on <time datetime=2020-09-20>2020-09-20</time></span>&nbsp;<span class=post-category>included in <a href=/categories/linux/><i class="far fa-folder fa-fw"></i>linux</a></span></div><div class=content>How to Create Debian10 template With Cloudinit for PVE 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 VMID=9002 VM_NAME=CentOS-7-x86_64-GenericCloud VM_DOWNLOAD_URL=http://mirrors.ustc.edu.cn/centos-cloud/centos/7/images/CentOS-7-x86_64-GenericCloud.qcow2.xz TEMPLATE_VM_NAME=$(echo $VM_NAME | sed 's/_/-/g') STORAGE_PATH=local DEFAULT_PVE_PATH=/var/lib/vz/images #Change directory to `local` cd /var/lib/vz/images #Download centos 7 cloud images on proxmox ve wget $VM_DOWNLOAD_URL #unzip the file #xz -z (to zip file) #xz -k( to keep original file and valur `-0` to `-9` to set zip rate, default zip rate is -6 #xz -d (to unzip file) # xz -k (to keep zipped file not deleted) xz -d -k $VM_NAME.</div><div class=post-footer><a href=/how-to-create-debian10-with-cloudinit-for-pve/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/debian/>debian</a>,&nbsp;<a href=/tags/debian10/>debian10</a>,&nbsp;<a href=/tags/cloudinit/>cloudinit</a>,&nbsp;<a href=/tags/pve/>pve</a>,&nbsp;<a href=/tags/linux/>linux</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/how-to-create-centos7-template-for-pve/>How to Create Centos7 Template for Pve</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>echowings</a></span>&nbsp;<span class=post-publish>published on <time datetime=2020-09-12>2020-09-12</time></span>&nbsp;<span class=post-category>included in <a href=/categories/linux/><i class="far fa-folder fa-fw"></i>linux</a></span></div><div class=content>HOw to create CentOS 7 template for PVE 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 VMID=9002 VM_NAME=CentOS-7-x86_64-GenericCloud VM_DOWNLOAD_URL=http://mirrors.ustc.edu.cn/centos-cloud/centos/7/images/CentOS-7-x86_64-GenericCloud.qcow2.xz TEMPLATE_VM_NAME=$(echo $VM_NAME | sed 's/_/-/g') STORAGE_PATH=local DEFAULT_PVE_PATH=/var/lib/vz/images #Change directory to `local` cd /var/lib/vz/images #Download centos 7 cloud images on proxmox ve wget $VM_DOWNLOAD_URL #unzip the file #xz -z (to zip file) #xz -k( to keep original file and valur `-0` to `-9` to set zip rate, default zip rate is -6 #xz -d (to unzip file) # xz -k (to keep zipped file not deleted) xz -d -k $VM_NAME.</div><div class=post-footer><a href=/how-to-create-centos7-template-for-pve/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/centos/>centos</a>,&nbsp;<a href=/tags/pve/>pve</a>,&nbsp;<a href=/tags/linux/>linux</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/how-to-reset-vyos-to-default-settings/>How to Reset Vyos to Default Settings</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>echowings</a></span>&nbsp;<span class=post-publish>published on <time datetime=2020-09-04>2020-09-04</time></span>&nbsp;<span class=post-category>included in <a href=/categories/networking/><i class="far fa-folder fa-fw"></i>networking</a></span></div><div class=content>How to reset VyOS to default settings 1 2 3 4 configure load /opt/vyatta/etc/config.boot.default commit save</div><div class=post-footer><a href=/how-to-reset-vyos-to-default-settings/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/vyos/>vyos</a>,&nbsp;<a href=/tags/networking/>networking</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/how-to-extend-all-available-disk-to-local-data/>How to Extend All Available Disk to Local Data</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>echowings</a></span>&nbsp;<span class=post-publish>published on <time datetime=2020-09-04>2020-09-04</time></span>&nbsp;<span class=post-category>included in <a href=/categories/virtualization/><i class="far fa-folder fa-fw"></i>virtualization</a></span></div><div class=content>How to extend all available disk to local-data After install Proxmove VE, the local-data only have about 50GB disk availabe. But how to let all availabld disk space to the local-data? Here we go:
1 2 3 4 5 6 7 8 # Remove local-data lvremove /dev/pve/data # Extend all available disk to /dev/pve/root lvresize -l +100%FREE /dev/pve/root #recreate pve-root resize2fs /dev/mapper/pve-root Reference Proxmox – Remove LVM local-data</div><div class=post-footer><a href=/how-to-extend-all-available-disk-to-local-data/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/pve/>pve</a>,&nbsp;<a href=/tags/lvm/>lvm</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/how-to-make-destination-policy-base-routing-with-vyos/>How to make Destination Base Routing With Vyos</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>echowings</a></span>&nbsp;<span class=post-publish>published on <time datetime=2020-09-03>2020-09-03</time></span>&nbsp;<span class=post-category>included in <a href=/categories/networking/><i class="far fa-folder fa-fw"></i>networking</a></span></div><div class=content>How to make Destination Base Routing with Vyos I have 2 network interfaces. one for user access inboard network,another for user to access network aboard. How to make it work with vyos?
Make a network group 1 2 3 4 5 #Define a netwrok-group set firewall group network-group china-ip-ranges #Define lan network group set firewall group network-group lan-net-group network '192.168.11.0/24' set policy 1 2 3 4 5 set policy route network-shunt rule 20 destination group network-group 'china-ip-ranges' set policy route network-shunt rule 20 set table '20' set policy route network-shunt rule 20 source group network-group 'lan-net-group' set policy route network-shunt rule 30 set table '30' set policy route network-shunt rule 30 source group network-group 'lan-net-group' Download and set the network-group with ipset Download and make a list for network-group loading when booting.</div><div class=post-footer><a href=/how-to-make-destination-policy-base-routing-with-vyos/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/vyos/>vyos</a>,&nbsp;<a href=/tags/pbr/>PBR</a>,&nbsp;<a href=/tags/network_shunt/>network_shunt</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/how-to-config-ddns-for-vyos-with-dns.he.net/>How to Config Ddns for Vyos With Dns.he.net</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>echowings</a></span>&nbsp;<span class=post-publish>published on <time datetime=2020-08-05>2020-08-05</time></span>&nbsp;<span class=post-category>included in <a href=/categories/networking/><i class="far fa-folder fa-fw"></i>networking</a></span></div><div class=content>How to config DDNS for vyos with dns.he.net Register A Recored Register a domian host.mydomain.com on your https://dns.he.net Generate a key 64LGiLiuoiuoiuoi Run command to setup the ddns service 1 2 3 4 5 6 7 8 configure set service dns dynamic interface pppoe0 service dyndns host-name 'host.mydomain.com' set service dns dynamic interface pppoe0 service dyndns login 'host.mydomain.com' set service dns dynamic interface pppoe0 service dyndns password '64LGiLiuoiuoiuoi' set service dns dynamic interface pppoe0 service dyndns server 'dyn.</div><div class=post-footer><a href=/how-to-config-ddns-for-vyos-with-dns.he.net/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/vyos/>vyos</a>,&nbsp;<a href=/tags/ddns/>ddns</a>,&nbsp;<a href=/tags/he.net/>he.net</a></div></div></article><ul class=pagination><li class=page-item><span class=page-link><a href=/>1</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=/page/3/>3</a></span></li><li class=page-item><span class=page-link><a href=/page/4/>4</a></span></li><li class="page-item active"><span class=page-link><a href=/page/5/>5</a></span></li><li class=page-item><span class=page-link><a href=/page/6/>6</a></span></li><li class=page-item><span class=page-link><a href=/page/7/>7</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=/page/17/>17</a></span></li></ul></div></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.97.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>echowings</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},data:{"id-1":"My Blog"},typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"id-1":["id-1"]},duration:-1,speed:100}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>